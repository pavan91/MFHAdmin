<mat-card>
    <mat-card-title class="pl-2 pb-3">
        Form Creation
    </mat-card-title>
    <mat-card-content>
        <form [formGroup]="frmCreate" (ngSubmit)="saveDetails()">
            <div class="container-fluid px-0">
                <div class="row">
                    <div class="col-6">
                        <mat-form-field appearance="fill">
                            <mat-label>Category</mat-label>
                            <mat-select formControlName="domIntr" (selectionChange)="getPkgsByDomInt($event)">
                                <mat-option>None</mat-option>
                                <mat-option *ngFor="let reg of domInt" [value]="reg">
                                    {{ reg.name }}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                        <div *ngIf="submitted && f['domIntr'].errors" class="small text-danger mb-3">
                            <mat-error *ngIf="f['domIntr'].errors['required']">Mandatory</mat-error>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-6">
                        <mat-form-field appearance="fill">
                            <mat-label>States</mat-label>
                            <mat-select formControlName="items">
                                <mat-option>None</mat-option>
                                <mat-option *ngFor="let st of states" [value]="st">
                                    {{ st.viewValue }}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                        <div *ngIf="submitted && f['items'].errors" class="small text-danger mb-3">
                            <mat-error *ngIf="f['items'].errors['required']">Mandatory</mat-error>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-6">
                        <mat-form-field appearance="fill">
                            <mat-label>ABCD</mat-label>
                            <mat-select>
                                <mat-option>None</mat-option>
                                <mat-option *ngFor="let ab of abcd" [value]="ab">
                                    {{ ab.name }}
                                </mat-option>
                            </mat-select>
                        </mat-form-field>
                    </div>
                </div>
                <div class="row">
                    <div class="col-6">
                        <mat-form-field appearance="standard">
                            <mat-label>Name</mat-label>
                            <input matInput placeholder="" autocomplete="off" formControlName="username" #nameInput>
                        </mat-form-field>
                        <div *ngIf="submitted && f['username'].errors" class="text-danger">
                            <mat-error *ngIf="f['username'].errors['required']">User Name is required</mat-error>
                            <mat-error *ngIf="f['username'].errors['minlength']">cannot be less than 4 characters</mat-error>
                        </div>
                    </div>
                </div>
                <!-- <div class="row">
                    <div class="col-6">
                        <mat-radio-group formControlName="gender">
                            <mat-radio-button value="1"> Male</mat-radio-button>
                            <mat-radio-button value="2">Female</mat-radio-button>
                        </mat-radio-group>
                        <div *ngIf="submitted && f['gender'].errors" class="text-danger">
                            <mat-error *ngIf="f['gender'].errors['required']">Choose your gender</mat-error>
                        </div>
                    </div>
                </div> -->
                <div class="row">
                    <div class="col-6">
                        <div formArrayName="skills">
                            <button type="button" (click)="addSkills()" mat-raised-button color="secondary" type="button">Add</button>
                            <div *ngFor="let skill of skills.controls; let i=index">
                                <div [formGroupName]="i">
                                    <div class="row">
                                        <div class="col-5">
                                            <mat-form-field appearance="standard">
                                                <mat-label>Skill</mat-label>
                                                <input matInput placeholder="" autocomplete="off" formControlName="skill">
                                            </mat-form-field>
                                        </div>
                                        <div class="col-5">
                                            <mat-form-field appearance="standard">
                                                <mat-label>Experience</mat-label>
                                                <input matInput placeholder="" autocomplete="off" formControlName="exp">
                                            </mat-form-field>
                                        </div>
                                        <div class="col-2">
                                            <button (click)="removeSkill(i)" *ngIf="skills.length > 1" mat-raised-button color="secondary" type="button">
                                                X
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col-6">
                        <button mat-raised-button color="primary" class="mt-3" type="submit">Submit</button>
                    </div>
                </div>
            </div>
        </form>
    </mat-card-content>
</mat-card>
